<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TEF10 Christmas Secret Santa</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0b3d2e;
  color: white;
}

.container {
  max-width: 400px;
  margin: 40px auto;
  padding: 25px;
  background: rgba(255,255,255,0.1);
  border-radius: 20px;
  text-align: center;
}

select, button {
  width: 100%;
  padding: 12px;
  margin-top: 12px;
  border-radius: 10px;
  border: none;
  font-size: 16px;
}

button {
  background: #d32f2f;
  color: white;
}

.hidden { display: none; }

.result {
  margin-top: 20px;
}
</style>
</head>

<body>

<div class="container">

  <h2>TEF10 Christmas</h2>
  <p>Secret Santa</p>

  <!-- PICKER -->
  <div id="pickerScreen">
    <p>Select your name</p>
    <select id="pickerSelect"></select>
    <button onclick="confirmPicker()">Continue</button>
  </div>

  <!-- READY -->
  <div id="readyScreen" class="hidden">
    <p>Are you ready?</p>
    <button onclick="pickName()">Reveal</button>
  </div>

  <!-- RESULT -->
  <div id="resultScreen" class="hidden result">
    <p><strong>You are gifting:</strong></p>
    <h3 id="receiverName"></h3>
    <p><strong>Item:</strong> <span id="itemName"></span></p>
    <button onclick="next()">Done</button>
  </div>

  <!-- FINAL -->
  <div id="finalScreen" class="hidden">
    <h3>All 10 people have picked</h3>
    <p>Merry Christmas TEF10</p>
  </div>

</div>

<script>
const people = [
  { name: "Sucharitha", item: "Any dark colored top" },
  { name: "Akash", item: "Gyro Ball" },
  { name: "Vidhath", item: "3D Galaxy Crystal Ball" },
  { name: "Infant", item: "Perfume" },
  { name: "Varsha", item: "Diary or Mug" },
  { name: "Yaskhith", item: "Die cast bike" },
  { name: "Harshit", item: "Money Plant" },
  { name: "Nithin", item: "Amazon Voucher" },
  { name: "Hanshith", item: "Money Plant" },
  { name: "Sumanth", item: "Shirt" }
];

let receiversLeft = [...people];
let pickersDone = [];
let currentPicker = null;

/* UI */
const pickerScreen = document.getElementById("pickerScreen");
const readyScreen = document.getElementById("readyScreen");
const resultScreen = document.getElementById("resultScreen");
const finalScreen = document.getElementById("finalScreen");

function refreshPickerDropdown() {
  const select = document.getElementById("pickerSelect");
  select.innerHTML = "";
  people
    .filter(p => !pickersDone.includes(p.name))
    .forEach(p => {
      const opt = document.createElement("option");
      opt.value = p.name;
      opt.textContent = p.name;
      select.appendChild(opt);
    });
}

refreshPickerDropdown();

function confirmPicker() {
  currentPicker = document.getElementById("pickerSelect").value;
  pickerScreen.classList.add("hidden");
  readyScreen.classList.remove("hidden");
}

function pickName() {
  readyScreen.classList.add("hidden");

  const pool = receiversLeft.filter(p => p.name !== currentPicker);
  const selected = pool[Math.floor(Math.random() * pool.length)];

  document.getElementById("receiverName").textContent = selected.name;
  document.getElementById("itemName").textContent = selected.item;

  receiversLeft = receiversLeft.filter(p => p.name !== selected.name);
  pickersDone.push(currentPicker);

  resultScreen.classList.remove("hidden");
}

function next() {
  resultScreen.classList.add("hidden");

  if (pickersDone.length === people.length) {
    finalScreen.classList.remove("hidden");
  } else {
    refreshPickerDropdown();
    pickerScreen.classList.remove("hidden");
  }
}
</script>

</body>
</html>
